(function(){(function(){var u=document.getElementById("cio-forms-handler"),d=u.dataset.siteId,v=u.dataset.baseUrl;function c(e,t){var n;e.tagName==="TEXTAREA"?n="textarea":e.tagName==="SELECT"?n="select":e.type?n=e.type.trim():n="text",t[n]=t[n]||0;var r=n+"_"+(t[n]+1);return t[n]++,r}function p(e,t){return e.type==="submit"||e.type==="image"||e.type==="button"||e.type==="password"||!t&&e.type==="hidden"}function E(e){var t={},n={},r=[].slice.call(e.querySelectorAll("input, textarea, select"));return r.forEach(function(a){if(!p(a,!0)){var o=a.name;o||(o=c(a,n));var l,f=!1;a.type==="checkbox"||a.type==="radio"?a.checked?l=a.value||"on":f=!0:l=a.value,f||(t[o]=t[o]||[],t[o].push(l))}}),t}function T(e){var t={},n=[].slice.call(e.querySelectorAll("input, textarea, select")).filter(function(r){return!p(r,!1)}).map(function(r){var a=r.name;return a||c(r,t)});return{id:typeof e.id=="string"?e.id:void 0,name:e.name,url:window.location.href,inputs:n}}function y(e,t,n){var r=new XMLHttpRequest,a=v+"/custom_forms/submit_snippet",o=[];for(name in t)if(t.hasOwnProperty(name))for(i in t[name])t[name].hasOwnProperty(i)&&o.push(encodeURIComponent(name)+"="+encodeURIComponent(t[name][i]));o.push("_cio_html_form_id="+encodeURIComponent(e.id)),o.push("_cio_html_form_name="+encodeURIComponent(e.name)),o.push("_cio_html_form_url="+encodeURIComponent(e.url));for(i in e.inputs)e.inputs.hasOwnProperty(i)&&o.push("_cio_html_form_inputs="+encodeURIComponent(e.inputs[i]));o.push("_cio_site_id="+d);var l=o.join("&");r.onreadystatechange=function(){this.readyState==4&&n()},r.open("POST",a),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(l)}var s=!1;function m(e,t){if(!s){var n=e.target;if(!!n.checkValidity()){s=!0,e.preventDefault();var r=T(n),a=E(n);y(r,a,function(){var o=t.replayNativeHTMLSubmit&&(n.onsubmit?n.onsubmit():!0);if(o!==!1){var l=[].slice.call(n.querySelectorAll('input[type="submit"], input[type="image"], image[type="button"], button[type="submit"], button:not([type])'));l[0]?l[0].click():n.submit()}s=!1})}}}document.addEventListener("submit",function(e){m(e,{replayNativeHTMLSubmit:!0})}),window.addEventListener("load",function(){[].slice.call(document.forms).forEach(function(e){return e.addEventListener("submit",function(t){(!t.target.className.split(" ").includes("wpforms-ajax-form")||window.jQuery==null)&&m(t,{replayNativeHTMLSubmit:!0})})}),document.querySelector(".wpforms-ajax-form")!=null&&window.jQuery!=null&&jQuery(".wpforms-ajax-form").on("wpformsAjaxSubmitSuccess",function(e){m(e,{replayNativeHTMLSubmit:!1})})})})();})();
